<html>

<head>
<meta http-equiv="Content-Language" content="en-us">
<link rel="stylesheet" type="text/css" href="../style.css" />
<title>DeprecationReporter Task</title>
</head>

<body>

<h2><a name="deprecationreporter">DeprecationReporter</a></h2>

<h3>Description</h3>

<p>Summarizes a dependency graph according to user-specified criteria.</p>

<p>This tool takes a dependency graph generated by
<a href="dependencyextractor.html">DependencyExtractor</a> and filters it based
on API elements provided by the user.  The result is a new dependency
graph which is a subgraph of the original one.  You can use the various
<code>XXXToText</code> and <code>XXXToHTML</code> XSL transformations to render
the graph as text or HTML for human reading.</p>

<p>This tool can read multiple graphs and apply the same selection criteria
across them to generate an aggregated result.  With sufficiently wide criteria,
you can use this tool to combine multiple graphs into one.</p>

<p>With the <code>xml</code> attribute, it converts the entire dependency
graph into an XML document that follows the
<code><href a="http://depfind.sourceforge.net/dtd/dependencies.dtd">dependencies</a></code>
DTD.</p>

<h3>Parameters</h3>

<table border="1" cellpadding="2" cellspacing="0">
  <tr>
    <td valign="top"><b>Attribute</b></td>
    <td valign="top"><b>Description</b></td>
    <td align="center" valign="top"><b>Required</b></td>
  </tr>
  <tr>
    <td valign="top">srcfile</td>
    <td valign="top">filename of the XML document containing the dependency graph.</td>
    <td valign="top" align="center">Yes, unless nested <code>&lt;src&gt;</code> elements are present.</td>
  </tr>
  <tr>
    <td valign="top">validate</td>
    <td valign="top">validate the input XML against its DTD.</td>
    <td valign="top" align="center">No; defaults to false.</td>
  </tr>
  <tr>
    <td valign="top">destfile</td>
    <td valign="top">where to write the output.  If the file does not exists,
    it is created.  If it already exists, its content is overwritten.</td>
    <td valign="top" align="center">Yes</td>
  </tr>
  <tr>
    <td valign="top">xml</td>
    <td valign="top">writes the dependency graph as an XML document with the
    <code><a href="http://depfind.sourceforge.net/dtd/dependencies.dtd">dependencies</a></code>
    DTD.</td>
    <td valign="top" align="center">No; defaults to false.</td>
  </tr>
  <tr>
    <td valign="top">encoding</td>
    <td valign="top">encoding used for the XML output document.
    Only useful with <code>xml</code>.</td>
    <td align="center" valign="top">No</td>
  </tr>
  <tr>
    <td valign="top">dtdprefix</td>
    <td valign="top">prefix of the DTD URL for the XML output document.
    Only useful with <code>xml</code>.</td>
    <td align="center" valign="top">No; defaults to "http://depfind.sourceforge.net/dtd".</td>
  </tr>
  <tr>
    <td valign="top">indenttext</td>
    <td valign="top">used for each indentation level in textual and XML output.</td>
    <td align="center" valign="top">No; defaults to "&nbsp;&nbsp;&nbsp;&nbsp;" (4 spaces).</td>
  </tr>
</table>

<h3>Nested elements</h3>

<h4>src</h4>

<p><code>&lt;deprecationreporter&gt;</code>'s <code>srcfile</code> elements are
<a href="http://ant.apache.com/manual/using.html#path">path-like structures</a>
and can also be set via a nested <code>&lt;src&gt;</code> attribute.  The task
uses them to build the dependency graph on which to base the report.</p>

<h4>includes</h4>

<p><code>&lt;deprecationreporter&gt;</code>'s <code>includes</code> elements are
<a href="http://ant.apache.com/manual/using.html#path">path-like structures</a>.
The tool uses them to construct the list of deprecated APIs to include in the
report.</p>

<h4>excludes</h4>

<p><code>&lt;deprecationreporter&gt;</code>'s <code>includes</code> elements are
<a href="http://ant.apache.com/manual/using.html#path">path-like structures</a>.
The tool uses them to construct the list of deprecated APIs to exclude from the
report.</p>

<h3>Examples</h3>

<p>To reduce the graph in <code>dg.xml</code> based on deprecated APIs listed
in <code>deprecated.txt</code> and save it to <code>dg.deprecated.xml</code>:</p>

<pre>  &lt;deprecationreporter srcfile=&quot;df.xml&quot;
                       destfile=&quot;df.p2p.xml&quot;
                       xml=&quot;yes&quot;&gt;
    &lt;includes&gt;
      &lt;pathelement location=&quot;deprecated.txt&quot;/&gt;
    &lt;/includes&gt;
  &lt;/deprecationreporter&gt;</pre>

<hr>

<p align="center">Copyright &copy; 2001-2003 Jean Tessier.  All rights reserved.</p>

</body>

</html>
